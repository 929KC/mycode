<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>

    </style>
</head>

<body>
    <form action="ok.html" method="post" onsubmit="return registerUser();">
        用户名: <input type="text" id="user"> <br/>输入密码：
        <input type="text" id="pass1"><br/> 确认密码: <input type="text" id="pass2"><span>两次密码必须一致</span><br/> 电子邮件: <input type="text" id="emil">
        <span>必须包含且包含一个@</span><br/><input type="submit" value="注册">
    </form>
    <script>
        var user = document.getElementById("user").value;
        var len = user.length;
        var pass1 = document.getElementById("pass1").value;
        var pass2 = document.getElementById("pass2").value;

        function checkName() {
            var user = document.getElementById("user").value;
            var len = user.length;
            var inf = user.toLowerCase().indexOf("admin");
            if (len < 3 || len > 30 || inf != -1) {
                return false;
            }
            return true;
        }

        function checkPassWord() {
            if (pass1 != pass2) {
                return false;
            }
            if (pass1 == " " || pass2 == " ") {
                return false;
            }
            return true;
        }

        function checkEmail() {
            var emil = document.getElementById("emil").value;
            var first = emil.indexOf("@");
            var last = emil.lastindexOf("@");
            if (first == -1) {
                alert("emil总必须包含@");
                return flase;
            }
            if (first != last) {
                alert("emil中必须只有一个@");
                return false;
            }
            return true;
        }

        function registerUser() {
            if (!checkName()) {
                return false;
            }
            if (!checkPassWord()) {
                return false;
            }
            if (!checkEmail()) {
                return false;
            }
            return true;
        }
    </script>
</body>

</html>