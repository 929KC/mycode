<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="../js/vue.js">
    </script>
    <title></title>
</head>

<body>
    <div id="app">
        <h1>用户登录</h1>
        <p>
            用户名: <input type="text" v-model="user" />
        </p>
        <p>
            密码: <input type="password" v-model="password" />
        </p>
        <p>
            <button type="button" @click="login()">登录</button>
            <button type="button" @click="reset()">重置</button>
        </p>
        <div v-if="flag==0"></div>
        <div v-else-if="flag==1">
            <login-success :cuser="user" :cpsd="password"></login-success>
        </div>
        <div v-else>
            <login-fail></login-fail>
        </div>
    </div>
    <script type="text/javascript">
        Vue.component('loginSuccess', {
            props: ['cuser', 'cpsd'],
            template: '<div><h1>登录成功信息</h1><p>用户名:{{cuser}} 密码:{{cpsd}}</p></div>'
        })
        Vue.component('loginFail', {
            template: '<div><h1>登录失败信息</h1><p>用户名或密码错误，登录失败！</p></div>'
        })
        new Vue({
            el: '#app',
            data: {
                user: '',
                password: '',
                flag: 0
            },
            methods: {
                login() {
                    if (this.user === 'admin' && this.password === '123') {
                        this.flag = 1;
                    } else {
                        this.flag = 2;
                    }
                },
                reset() {
                    this.user = '';
                    this.password = '';
                }
            }
        })
    </script>
</body>

</html>